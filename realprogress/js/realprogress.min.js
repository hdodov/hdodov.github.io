window.RealProgress=function(){function n(){for(var n in c)for(var t=0,o=document.getElementsByTagName(n),r=o.length;t<r;t++)-1===a.indexOf(o[t])&&(a.push(o[t]),o[t].addEventListener("load",e(o[t].getAttribute(c[n]),n)))}function e(e,t){return function(){"string"==typeof e&&(s++,o(),r.onResourceLoad(e)),"script"===t&&setTimeout(n,0)}}function t(n){for(var e in c)for(var t=new RegExp("<"+e+"[^>]*"+c[e]+"s*=s*['|\"]([^'\"]+)['|\"][^>]*>","gi");null!==t.exec(n);)i++}function o(){r.onProgress(u?1:i>0?s/i:0)}var r={onResourceLoad:function(){},onProgress:function(){},onLoad:function(){}},i=0,s=0,u=!1,a=[],c={link:"href",script:"src",img:"src"},f=new XMLHttpRequest;return f.onreadystatechange=function(){4===this.readyState&&200===this.status&&(t(this.responseText),o())},f.open("GET",document.location.href),f.send(null),n(),window.addEventListener("load",function(){u=!0,o(),r.onLoad(),a=[]}),r}();